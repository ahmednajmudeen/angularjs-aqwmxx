!function(){"use strict";function e(e,n,o,r,l,s){var i={getAgentStatus:function(e){var t=o.defer(),a={};angular.isArray(e)&&e.length&&(a.idList=e);return n.post("/ucapi/agent/GetAgentStatus",a).then(function(e){var a=e.data.Data.map(function(e){return i.agent_id_required?e.extension=e.LoginID:e.extension=e.Extension,e.Membership&&(e.Membership=e.Membership.map(function(e){return parseInt(e)})),e});a=r("orderBy")(a,["Name","Extension"]),t.resolve(a)},function(e){t.reject(e)}),t.promise},getQueueStatus:function(e){var a=o.defer(),t={};angular.isArray(e)&&e.length&&(t.queues=e);return n.post("/ucapi/agent/GetQueueStatus",t).then(function(e){a.resolve(e.data.Data)},function(e){a.reject(e)}),a.promise},init:function(){var t=o.defer();return angular.forEach(Object.keys(i.statesDisplay),function(e){i.statesDisplay[e].label=s.getPhrase("State."+e)}),n.get("/api/breakCodes").then(function(e){l.globalVars.HasBreakCodes?(i.breakCodes=e.data.filter(function(e){return e.IsEnabled}),angular.forEach(i.breakCodes,function(e){var a=angular.copy(i.statesDisplay.OffDuty);a.label=e.SystemDefined?s.getPhrase(e.Code):e.Code,e.label=a.label,i.statesDisplay[e.Code]=a})):i.breakCodes=[],n.get("/api/tallyCodes/active").then(function(e){var a={};l.globalVars.HasTallyCodes&&angular.forEach(e.data,function(e){a[parseInt(e.QueueID)]=e}),i.tallyCodes=a,t.resolve(!0)},function(e){t.reject(e)})},function(e){t.reject(e)}),t.promise},agent_id_required:void 0,breakCodes:[],numIncompleteRequiredTallyCode:0,numIncompleteOptionalTallyCode:0,statesDisplay:{Out:{image:"fa fa-sign-out",color:"text-danger",colorCell:"am_state_out"},Ready:{image:"fa fa-sign-in",color:"text-primary",colorCell:"am_state_ready"},OffDuty:{image:"fa fa-coffee",color:"text-warning",colorCell:"am_state_break"},WrapUp:{image:"fa fa-pencil-square-o",color:"text-warning",colorCell:"am_state_break"},Busy:{image:"fas fa-headset",color:"call-connected",colorCell:"am_state_busy"},Ringing:{image:"fas fa-headset",color:"call-connected",colorCell:"am_state_busy"},NonAcd:{image:"fa fa-phone",color:"text-default",colorCell:"am_state_nonacd"},PendingBreak:{image:"fa fa-coffee",color:"call-connected",colorCell:"am_state_busy"},PendingWrapUp:{image:"fa fa-pencil-square-o",color:"call-connected",colorCell:"am_state_busy"}}};return i}angular.module("AgentUtilsModule",[]).factory("$AgentUtils",e),e.$inject=["$log","$http","$q","$filter","$rootScope","UCLocaleService"]}();